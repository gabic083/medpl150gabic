<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Story</title>
    <style>
        body { 
            font-family: 'Courier New', Courier, monospace; 
            background-color: #f0f2f5; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            transition: background 1s ease; 
        }
        #game-box { 
            background: #fff; 
            padding: 40px; 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            max-width: 600px; 
            width: 90%; 
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        #text { 
            font-size: 1.3rem; 
            line-height: 1.6; 
            color: #333;
            margin-bottom: 20px;
        }
        .options { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
        }
        button { 
            padding: 15px; 
            cursor: pointer; 
            border: 2px solid #333; 
            border-radius: 8px; 
            background: transparent; 
            font-family: inherit;
            font-weight: bold;
            transition: 0.3s;
            opacity: 0; 
            animation: fadeIn 0.5s forwards;
        }
        button:hover { background: #333; color: #fff; }
        @keyframes fadeIn { to { opacity: 1; } }
        .home-btn { margin-top: 20px; text-align: center; color: #999; text-decoration: none; font-size: 0.8rem; }
    </style>
</head>
<body>

<div id="game-box">
    <div id="text"></div>
    <div id="options" class="options"></div>
    <a href="index.html" class="home-btn">← Back to Homework</a>
</div>

<script>
    const story = {
        start: {
            text: "You're lying in bed when your phone buzzes. It's a text from your friend Emily: 'Kris is having a party at 155 S 2nd. You should comee, Adrian will be there ;)'",
            color: "#f0f2f5",
            options: [
                { text: "Get up, find outfit", next: "outfit" },
                { text: "Stay in bed, order Uber Eats", next: "stay_in" }
            ]
        },
        outfit: {
            text: "You've got your outfit on and you're feeling yourself. How are you getting to 155 S 2nd?",
            color: "#ffb3ba",
            options: [
                { text: "Take an Uber to get there on time", next: "uber" }, 
                { text: "Take the train and save money", next: "train" }
            ]
        },
        uber: {
            text: "The Uber drops you off. You can hear the music from the street. Now you're even earlier than your friend.",
            color: "#ffb3ba",
            options: [
                { text: "Wait outside for your friend", next: "wait" }, 
                { text: "Go inside, she'll meet u in there", next: "inside" }
            ]
        },
        wait: {
            text: "You wait outside, feeling a little awkward. Someone comes up besides u and lights a cigarette. You feel an instant, magnetic allure.",
            color: "#e0bbff",
            options: [{ text: "Talk to them", next: "romance_arc" }]
        },
        inside: {
            text: "You walk in and your heart drops. You see Adrian with another girl. You are upset and need to get out of there.",
            color: "#ffb3ba",
            options: [
                { text: "Go home and order Uber Eats", next: "stay_in" },
                { text: "Go outside for a smoke", next: "wait" }
            ]
        },
        train: {
            text: "You've hopped on the train. It's surprisingly empty for a party night.",
            color: "#bae1ff",
            options: [
                { text: "Look out the window", next: "window" }, 
                { text: "Go on your phone, open Tinder", next: "tinder_train" }
            ]
        },
        window: {
            text: "Someone catches your eye through the reflection... should you...",
            color: "#ffffba",
            options: [
                { text: "Say hi", next: "romance_arc" }, 
                { text: "Smile and walk away", next: "train_follow" }
            ]
        },
        train_follow: {
            text: "He follows you off the train and comes up to you saying he just had to say hi. He awkwardly says he likes your scarf.",
            color: "#e0bbff",
            options: [{ text: "Talk to him", next: "romance_arc" }]
        },
        tinder_train: {
            text: "You start swiping on the train. You match with someone who looks like a deep thinker.",
            color: "#bae1ff",
            options: [
                { text: "Talk to someone new", next: "missed_stop" },
                { text: "Respond to the match", next: "romance_arc" }
            ]
        },
        missed_stop: {
            text: "You were so busy swiping you missed your stop. You're stuck on the train until the end of the line!",
            color: "#bae1ff",
            options: [{ text: "See your fate...", next: "ENDING_TRAIN" }]
        },
        stay_in: {
            text: "After you order food, you open Tinder. You match with someone and feel a deep connection immediately.",
            color: "#baffc9",
            options: [
                { text: "Respond to a new match who said 'heyy'", next: "bed_ending" },
                { text: "Keep talking to the match you like", next: "romance_arc" }
            ]
        },
        bed_ending: {
            text: "The conversation is a snooze fest and your food is late. You're stuck in bed perpetually.",
            color: "#baffc9",
            options: [{ text: "See your fate...", next: "ENDING_BED" }]
        },
        romance_arc: {
            text: "You talk for 4 hours and fall in love that night and progressively fall deeper in love every day for the following year. He’s a deep thinker but very entrenched in his work… he’s been lost in his work for years. He tells you about his days in academia in Astro, and how now he has the opportunity for the biggest US space mission currently, he has to go to the moon.",
            color: "#e0bbff",
            options: [
                { text: "Go and leave everything behind", next: "ENDING_SPACE" },
                { text: "Love him From Earth", next: "ENDING_EARTH" }
            ]
        }
    };

    let i = 0;
    let speed = 40; 

    function loadScene(id) {
        const endings = {
            "ENDING_EARTH": "ending-earth.html",
            "ENDING_SPACE": "ending-space.html",
            "ENDING_TRAIN": "ending-train.html",
            "ENDING_BED": "ending-bed.html"
        };

        if (endings[id]) {
            window.location.href = endings[id];
            return;
        }

        const scene = story[id];
        const textContainer = document.getElementById('text');
        const optionsDiv = document.getElementById('options');
        
        i = 0;
        textContainer.innerHTML = '';
        optionsDiv.innerHTML = '';
        document.body.style.backgroundColor = scene.color;

        typeWriter(scene.text, () => {
            scene.options.forEach(o => {
                const btn = document.createElement('button');
                btn.innerText = o.text;
                btn.onclick = () => loadScene(o.next);
                optionsDiv.appendChild(btn);
            });
        });
    }

    function typeWriter(text, callback) {
        if (i < text.length) {
            document.getElementById("text").innerHTML += text.charAt(i);
            i++;
            setTimeout(() => typeWriter(text, callback), speed);
        } else {
            callback(); 
        }
    }

    loadScene('start');
</script>
</body>
</html>
